: l.FileU.t newtype ;
: l.File.t newtype ;
: l.FileU FileU.t eff.apply ;
: l.File File.t eff.apply ;

: l.open-file ; !( -- FileU )
: l.FileU.lent ; !( FileU -- FileU File ) impl> lent
: l.File.dup ; !( File -- File File ) impl> dup
: l.fwrite ; !( File -- )
: l.FileU.drop ; !( FileU -- ) impl> drop

: write-file
  l.open-file lent l.fwrite drop
;
: write-file-illegal
  l.open-file l.fwrite
;
